import java.io.File import kotlin.math.max fun main(): Unit = File("input.txt").readLines().let { if(System.getenv("part") != "part2") it.fold((0 to 0)) { (maxVal, new), v -> if (v.isEmpty()) max(maxVal, new) to 0 else maxVal to v.toInt() + new }.first else it.fold((listOf(0, 0, 0) to 0)) { (maxVal, new), v -> if (v.isEmpty()) listOf( maxVal[0], maxVal[1], max(maxVal.last(), new)).sortedDescending() to 0 else maxVal to v.toInt() + new }.first.sum()}.let { println(it) }